/*! Sortboard v1.0.5 | MIT (c) 2016 JosÃ© Luis Quintana */
"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};!function(){var t={init:function(t,e){this.currentFilter="all",this.elements=[],this.found=[],this.element=null,this.notfound=[],this.size=0,this.defaults={gutter:0,hiddenClass:".hidden",itemsMatchName:"li",filterComplete:null,sortComplete:null},"object"===("undefined"==typeof t?"undefined":_typeof(t))?t.nodeName?(this.element=t,this.setOptions(e),this.addEvents()):this.setOptions(e):console.error("Sortboard requires an HTML element.")},setOptions:function(t){this.options=Object.assign(this.defaults,t)},addEvents:function(){var t=this;window.addEventListener("resize",function(){return t.sort()},!1),this.sort()},sort:function(){for(var t=0,e=0,s=0,i=0,o=0,n=0,r=this.element.parentElement.offsetWidth,l=this.findElements(this.options.itemsMatchName),f=l.length,a=this.options.gutter,u="("+this.options.hiddenClass.replace(".","")+")+",h=new RegExp(u,"i"),d=void 0,p=0;f>p;++p)d=l[p],d.className.match(h)||(i>=r-d.offsetHeight-a?(i=0,s+=d.offsetHeight+a,n||(n=t*d.offsetWidth+(t*a-a))):i+=t?a:0,i+=d.offsetWidth,e=i-d.offsetWidth,o=s+d.offsetHeight,t++,d.setAttribute("data-cords",e+","+s),this.translate(d,e+","+s,!1));var c=t*r+(2>t?t:t-1)*a,m=n||c;this.element.style.width=m+"px",this.element.style.height=o+"px",this.size=f,this.options.sortComplete&&"function"==typeof this.options.sortComplete&&this.options.sortComplete()},filterBy:function(t){if(t=t.toString(),t&&(this.currentFilter!==t||"all"===t)){var e=void 0,s=void 0,i=void 0,o=void 0,n=void 0,r=void 0,l=[],f=this.findElements(this.options.itemsMatchName);for(o=new RegExp(t,"i"),e=0;e<this.size;++e)r=f[e],n=r.getAttribute("data-filter"),n&&-1!==n.search(o)&&l.push(r);for(this.currentFilter=t,this.found=[],this.notfound=[],e=0;e<this.size;++e)r=f[e],i=r.getAttribute("data-cords"),"all"===t.toLowerCase()?(this.found.push(r),this.translate(r,i,!1)):(n=r.getAttribute("data-filter"),s=n&&-1!==n.search(o),s?this.found.push(r):this.notfound.push(r),this.translate(r,i,!s))}this.options.filterComplete&&"function"==typeof this.options.filterComplete&&this.options.filterComplete(this.found||[]),this.found.length>0&&this.sort()},translate:function(t,e,s){var i=this.options.hiddenClass.replace(".",""),o="matrix(1,0,0,1,"+e+") scale("+(s?"0.001":"1")+")";t.className=t.className.replace(new RegExp(i,"g"),""),s&&(t.className=t.className+" "+i),t.style.setProperty("opacity",s?"0":"1"),t.style.setProperty("-webkit-transform",o),t.style.setProperty("-moz-transform",o),t.style.setProperty("transform",o)},findElements:function(t){return this.elements.length||(this.elements=t.match(/^\.(.+)$/)?this.element.getElementsByClassName(t.replace(".","")):this.element.getElementsByTagName(t)),this.elements}},e={create:function(e,s){var i=Object.create(t);return i.init(e,s),{filterBy:function(t){i.filterBy(t)},sort:function(){i.sort()},getFilter:function(){return i.currentFilter},getItems:function(){return i.elements},getFoundItems:function(){return i.found},getNotFoundItems:function(){return i.notfound}}}};"object"===("undefined"==typeof module?"undefined":_typeof(module))&&"object"===_typeof(module.exports)?module.exports=e:"function"==typeof define&&define.amd?define([],function(){return e}):(window.Sortboard=e,window.jQuery&&!function(){var t=void 0,s=void 0;window.jQuery.fn.sortboard=function(i){if("string"==typeof i){if(t=this.data("sortboard"),s=t[i],t&&"string"==typeof i&&s)return s.apply(this,Array.prototype.slice.call(arguments,1));window.jQuery.error("Method "+i+" is not supported on jQuery.sortboard.")}else t=e.create(this[0],i),this.data("sortboard",t);return this}}())}();